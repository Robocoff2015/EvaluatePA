@using Microsoft.AspNetCore.Http;
@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
    Layout = "_Layout_Management";
    ViewData["Title"] = "Dashboard";
    var id_ = @Context.Session.GetString("userId");
}

@section Style_{ 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>
}




    <div class="row">
        <div class="col-sm-12 col-md-12 col-lg-6 col-xl-4 mt-2">
            <div class="card border-0">
                <div class="card-header bg-white border-0 p-0 pl-1">
                    <div class="border-top pt-2">
                        <h5><i class="fa fa-bar-chart fa-fw w3-margin-right w3-text-theme"></i>แดชบอร์ด</h5>
                        <input type="hidden" id="userId" name="userId" value="@Context.Session.GetString("userId")">
                    </div>
                </div>
                <div class="card-body p-1">
                    <input type="button" value="ข้อมูลการประเมินวิทยฐานะปี 2564" class="btn bg-light" onclick="location.href='@Url.Action("Dashboard_Info","ManagementPA", new { user_id = @id_})'" style="width:100%;border-color:#d4d4d4;height:35px;">
                    <input type="button" value="ขอประเมินข้อตกลงพัฒนางาน (PA)" class="btn bg-light mt-1" onclick="location.href='@Url.Action("Dashboard_Evaluate","ManagementPA", new { user_id = @id_})'" style="width:100%;border-color:#d4d4d4;height:35px;">
                    <input type="button" value="ผลการประเมินข้อตกลงพัฒนางาน (PA)" class="btn bg-light mt-1" onclick="location.href='@Url.Action("Dashboard_Result","ManagementPA", new { user_id = @id_})'" style="width:100%;border-color:#d4d4d4;height:35px;">
                </div>
            </div>
        </div>
        <div class="col-sm-12 col-md-12 col-lg-4 col-xl-8 mt-2">
            <div class="mt-2">
                <h5>ข้อมูลการประเมินวิทยฐานะปี 2564</h5>
            </div>
                <div class="row d-flex">
                    <div class="col-md-5 col-sm-12">
                        <div class="card border-0">
                            <div class="card-header bg-white border-0 p-0 pl-1">

                            </div>
                            <div class="card-body bg-white border p-0 pl-3 pr-3" style="border-radius:5px;">
                                <div class="pt-2">
                                    <p>จำนวนวิทยฐานะ</p>
                                </div>
                                <div class="p-2">
                                    <canvas id="myChart" style="height:500px;width:100%; max-width: 700px"></canvas>
                                    <script>
                                    var xValues = ["ครูเชี่ยวชาญพิเศษ", "ครูเชี่ยวชาญ", "ครูชำนาญการพิเศษ", "ครูชำนาญการ", "ครู", "ครูผู้ช่วย"];
                                    var yValues = @ViewBag.position_count;
                                    var yValues_ = [5, 15, 20, 35, 10, 15];
                                    var barColors = [
                                        "#0000ff",
                                        "#ff00a9",
                                        "#ffaa00",
                                        "#e81111",
                                        "#00ff00",
                                        "#1e7145"
                                    ];

                                    new Chart("myChart", {
                                        type: "pie",
                                        data: {
                                            labels: xValues,
                                            datasets: [{
                                                backgroundColor: barColors,
                                                data: yValues
                                            }]
                                        },
                                        options: {
                                            title: {
                                                display: false,
                                                text: "จำนวนวิทยฐานะ"
                                            },
                                            legend: {
                                                display: false //This will do the task
                                            }
                                        }
                                    });
                                    </script>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-7 col-sm-12">
                        <div class="card border-0">

                            <div class="card-body bg-white border p-0 pl-1" style="border-radius:5px;">
                                <div class="pt-2">
                                    <p>ระดับวิทยฐานะ</p>
                                </div>
                                <div class="p-2">
                                    <table class="table border-bottom">
                                        <!-- Table head -->
                                        <thead class="blue-grey lighten-4 border-top">
                                            <tr>
                                                <th class="text-center" style="width:20%"></th>
                                                <th style="width:25%">ระดับ</th>
                                                <th class="text-center" style="width:15%">จำนวน</th>

                                                <th class="text-center" style="width:40%"></th>

                                            </tr>
                                        </thead>
                                        <tbody>

                                            <tr>
                                                <td class="text-center" scope="row">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 448 512"><path style="stroke: none; fill: #0000ff;" d="M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z" /></svg>
                                                </td>
                                                <td>ครูเชี่ยวชาญพิเศษ</td>
                                                <td class="text-center">@ViewBag.position_count_0</td>
                                                <td class="text-center">
                                                    <div style="width:50px;background-color:blue">

                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="text-center" scope="row">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 448 512"><path style="stroke: none; fill: #ff00a9;" d="M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z" /></svg>
                                                </td>
                                                <td>ครูเชี่ยวชาญ</td>
                                                <td class="text-center">@ViewBag.position_count_1</td>
                                                <td class="text-center">
                                                    <div style="width:50px;background-color:blue">

                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="text-center" scope="row">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 448 512"><path style="stroke: none; fill: #ffaa00;" d="M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z" /></svg>
                                                </td>
                                                <td>ครูชำนาญการพิเศษ</td>
                                                <td class="text-center">@ViewBag.position_count_2</td>
                                                <td class="text-center">
                                                    <div style="width:50px;background-color:blue">

                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="text-center" scope="row">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 448 512"><path style="stroke: none; fill: #e81111;" d="M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z" /></svg>
                                                </td>
                                                <td>ครูชำนาญการ</td>
                                                <td class="text-center">@ViewBag.position_count_3</td>
                                                <td class="text-center">
                                                    <div style="width:50px;background-color:blue">

                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="text-center" scope="row">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 448 512"><path style="stroke: none; fill: #00ff00;" d="M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z" /></svg>
                                                </td>
                                                <td>ครู</td>
                                                <td class="text-center">@ViewBag.position_count_4</td>
                                                <td class="text-center">
                                                    <div style="width:50px;background-color:blue">

                                                    </div>
                                                </td>

                                            </tr>
                                            <tr>
                                                <td class="text-center" scope="row">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="24px" height="24px" viewBox="0 0 448 512"><path style="stroke: none; fill: #1e7145;" d="M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z" /></svg>
                                                </td>
                                                <td>ครูผู้ช่วย</td>
                                                <td class="text-center">@ViewBag.position_count_5</td>
                                                <td class="text-center">
                                                    <div style="width:50px;background-color:blue">

                                                    </div>
                                                </td>

                                            </tr>
                                        </tbody>
                                    </table>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>


<!-- Modal -->
<div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                @*<button type="button" class="close" data-dismiss="modal">&times;</button>*@
                <h4 class="modal-title">Modal Header</h4>
            </div>
            <div class="modal-body">
                <p>Some text in the modal.</p>
            </div>
            <div class="modal-footer">
                @*<button type="button" class="btn btn-default" onclick="hideModal('myModal');">Close</button>*@
                <button type="button" class="btn btn-info btn-lg" onclick="hideModal('myModal');">X</button>
            </div>
        </div>

    </div>
</div>


<div class="loader-wrapper">
    <span class="loader"><span class="loader-inner"></span></span>
</div>
<div class="loader-wrapper2">
    @*<span class="loader"><span class="loader-inner" onclick="hideModal();"></span>
        </span>*@


    <div class="row p-5 pt-1">
        <div class="col-md-12 mb-4">

            <div class="form-outline" style="opacity:1.0;">
                <div class="card border shadow p-3">
                    <div class="card-header bg-white border-0 border-top p-0 pl-3 pr-3">
                        <div class="form-inline justify-content-between">
                            <div class="pt-2">
                                <label class="form-label" for="fileName">ชื่อแบบฟอร์ม :</label>
                            </div>
                            <span onclick="hideModal_fast();">
                                <i class="fa fa-times"></i>
                            </span>
                        </div>
                    </div>
                    <div class="card-body p-1 pb-2">
                        <form id="PA_Form">
                            <input type="text" id="formName" name="formName" class="form-control form-control-lg mt-2" style="width:350px;font-size:16px;" />
                            <div class="pt-2 pl-3">
                                <label class="form-label" for="Level">ระดับวิทยฐานะ :</label>
                            </div>
                            <input type="text" id="Level" name="Level" class="form-control form-control-lg" style="width:350px;font-size:16px;" value="@Context.Session.GetString("userPosition")" />
                            <div class="btn btn-success mt-3 pt-2" onclick="AJ_Save();" style="width:350px;height:42px;font-size:0.85rem;font-weight:normal;"><i class="fa fa-save w3-text-theme text-white"></i>&nbsp;บันทึก</div>
                        </form>

                    </div>
                </div>


            </div>

        </div>
    </div>
</div>



@section Scripts {

    <script>
        $(window).on("load", function () {
            setTimeout(fad_out, 500);
        });

        function fad_out() {
            $(".loader-wrapper").fadeOut("slow");
        }
        function hideModal() {
            $(".loader-wrapper2").fadeOut("slow");
        }
        function hideModal_fast() {
            $(".loader-wrapper2").fadeOut("fast");
        }
        function showModal() {
            $(".loader-wrapper").fadeIn("slow");
            $(".loader-wrapper").fadeOut("slow");
        }
        function showModal_Create() {
            // $('.formName').val("");
            //$('.Level').val("");
            document.getElementById("PA_Form").reset();
            $(".loader-wrapper2").css('display', 'flex');
            $(".loader-wrapper2").fadeIn(2000);
            //$(".loader-wrapper").fadeOut("slow");
        }

    </script>
    <script type="text/javascript">
        $('.active_').removeClass('active_');
        $('.a-EvaluatePA').addClass('active_');
        $('.a-EvaluatePA').removeClass('text-dark');
    </script>

}